<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Sarı Kaya Kuyumculuk - Canlı Fiyatlar</title>
    <style>
        body { font-family: sans-serif; background: #1a1a1a; color: white; text-align: center; }
        table { margin: 50px auto; border-collapse: collapse; width: 80%; max-width: 600px; background: #333; }
        th, td { padding: 15px; border: 1px solid #444; font-size: 1.2rem; }
        th { background: #d4af37; color: black; }
        .fiyat { color: #00ff00; font-weight: bold; }
        .baslik { color: #d4af37; margin-top: 30px; }
    </style>
</head>
<body>

    <h1 class="baslik">Sarı Kaya Kuyumculuk</h1>
    <p>Canlı Altın Fiyatları (Anlık Güncellenir)</p>

    <table>
        <thead>
            <tr>
                <th>Cins</th>
                <th>Alış (TL)</th>
                <th>Satış (TL)</th>
            </tr>
        </thead>
        <tbody id="fiyat-tablosu">
            <tr><td colspan="3">Yükleniyor...</td></tr>
        </tbody>
    </table>

    <script>
        async function fiyatlariGetir() {
            try {
                const response = await fetch('/api/fiyatlar');
                const data = await response.json();
                
                const tablo = document.getElementById('fiyat-tablosu');
                tablo.innerHTML = `
                    <tr><td>Has Altın</td><td colspan="2" class="fiyat">${data.hasAltin} TL</td></tr>
                    <tr><td>22 Ayar</td><td class="fiyat">${data.ayar22.alis}</td><td class="fiyat">${data.ayar22.satis}</td></tr>
                    <tr><td>Çeyrek Altın</td><td class="fiyat">${data.ceyrek.alis}</td><td class="fiyat">${data.ceyrek.satis}</td></tr>
                    <tr><td>Yarım Altın</td><td class="fiyat">${data.yarim.alis}</td><td class="fiyat">${data.yarim.satis}</td></tr>
                    <tr><td>Tam Altın</td><td class="fiyat">${data.tam.alis}</td><td class="fiyat">${data.tam.satis}</td></tr>
                    <tr><td>Ata Lira</td><td class="fiyat">${data.ata.alis}</td><td class="fiyat">${data.ata.satis}</td></tr>
                `;
            } catch (e) {
                console.error("Hata:", e);
            }
        }

        fiyatlariGetir();
        setInterval(fiyatlariGetir, 30000); // 30 saniyede bir güncelle
    </script>
</body>
</html>
